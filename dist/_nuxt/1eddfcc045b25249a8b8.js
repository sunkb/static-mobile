(window.webpackJsonp=window.webpackJsonp||[]).push([[29,24],{186:function(t,e,n){"use strict";n.d(e,"a",function(){return r});n(108);var r=function(t){var video=t,e=document;/Android|webOS|iPhone|iPad|BlackBerry|iPod/i.test(navigator.userAgent)?void 0!==video.play()&&(video.play(),"ipad"==navigator.userAgent.toLowerCase().match(/iPad/i)&&(video.addEventListener("play",function(){var t,e=(t=video).webkitEnterFullScreen?"webkitEnterFullScreen":!!t.webkitRequestFullScreen&&"webkitRequestFullScreen";video[e]()}),video.addEventListener("webkitfullscreenchange",function(t){e.webkitIsFullScreen||video.pause()},!1),video.addEventListener("fullscreenchange ",function(t){e.webkitIsFullScreen||video.pause()},!1),video.addEventListener("ended",function(){this.webkitExitFullScreen()},!1))):(video.requestFullscreen(),video.play())}},192:function(t,e,n){t.exports=n.p+"img/6446c2c.png"},195:function(t,e){},216:function(t,e,n){"use strict";n.r(e),n.d(e,"initWX",function(){return d}),n.d(e,"getWXCode",function(){return l});n(60),n(22),n(23),n(13),n(43);var r=n(25);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,n)}return e}var c=n(198);function d(t){return c.config(function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(source,!0).forEach(function(e){Object(r.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}({},t,{debug:!1,jsApiList:["updateAppMessageShareData","updateTimelineShareData","onMenuShareAppMessage","onMenuShareTimeline"]})),c}function l(t){var e={appid:"wx9632cb5f0990954d",redirect_uri:encodeURIComponent(t),response_type:"code",scope:"snsapi_base"};window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(e.appid,"&redirect_uri=").concat(e.redirect_uri,"&response_type=").concat(e.response_type,"&scope=").concat(e.scope,"&state=1#wechat_redirect")}},260:function(t,e,n){t.exports=n.p+"img/0153727.png"},261:function(t,e,n){var content=n(409);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("c9569810",content,!0,{sourceMap:!1})},406:function(t,e,n){t.exports=n.p+"img/1fcd863.png"},407:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAhxJREFUWAnNWD9PwkAcbREENl1IjIuLxgE/BAkrhoGExJEwufERDCMJH4L4ARwwUWd2Bx2MDLiAJg66mWgA32vukl7TXtqzR/0lL/fn9+e93rXXguOE2Hq9LgFnwBiYAV+ivUPbAcohad4UfSKGsTNA5rIWa5aicpV5BNaAKaCzdzhPlUQMOAfQpzPWrgVzlTECeLVLXZWAry8LYL4f8OmG5OjIXKWFowWsdNkRvnPME0mNXC0pwmUHE/toHoBdjhPaUsRvJcxj+Adw4rruPCeSL9CaiGA6BZiIYC45ye24WI09tC/ANpCFfYP0gCvSBLISwQsnd5NC6hxlbHUKqWYsgvRVCqn8AyEVCol35NpVW6aQN7scsaq/UsgiVqjdoAWFTOxyxKo+oZBxrFC7QWOerBTzBBza5YqsPoXnOIcXzgqdQWSYfceAGuTbtwC+R+DIPq/C8IxRFUJ+uC0OO2h67G/YeoJbpcX9MgI2ZSM/u7c1cgIKdtDnFvFDyabNUZxb8ilJvK2RA+FoY8xvBFvG2m2/iEgirEzX4v50I4nDHBAytCBmGMalnYMIHnaXKYphLeWe1ArwO5FYAK5TEMMaPKvMDQWKwM0fxDC3aK7Al4lC/C18ayCGOel+eKEgV+YqgRjGprMSvkXxuiicB+LcwIzJB/NTHYOAT5Pu0abP7OkwUQqyHuD/54D9LF6c3o/3BsjvBRomFyRzfgEo9JTJnRgrcgAAAABJRU5ErkJggg=="},408:function(t,e,n){"use strict";var r=n(261);n.n(r).a},409:function(t,e,n){e=t.exports=n(38)(!1);var r=n(181)(n(192));e.push([t.i,".top-step-bar[data-v-fd909770]{padding-top:0.26667rem;margin-bottom:0.26667rem;height:2.2rem}.page-content[data-v-fd909770]{padding:0 0.4rem}.page-content-content[data-v-fd909770]{display:flex;flex-direction:column;justify-content:space-between;height:73vh}.signup-title[data-v-fd909770]{font-size:0.4rem;color:#333333;font-weight:bold;margin-bottom:0.4rem}.signup-title2[data-v-fd909770]{font-size:0.37333rem;color:#333333;margin-bottom:0.26667rem}#share[data-v-fd909770]{width:100vw;height:100vh}.content[data-v-fd909770]{width:9.2rem;padding:0.4rem 0.33333rem;box-shadow:0 0.02667rem 0.05333rem 0 #CCCCCC;background:#fff;margin-top:0.61333rem;position:relative;left:50%;top:0;transform:translateX(-50%)}.content-video[data-v-fd909770]{width:8.53333rem;height:4.8rem;overflow:hidden;display:flex;justify-content:center;align-items:center;position:relative}.content-video-img[data-v-fd909770]{height:inherit}.content-video-play[data-v-fd909770]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:1.33333rem;height:1.33333rem;background:url("+r+") 50% 50%/contain no-repeat}.content-topic-eng[data-v-fd909770]{font-size:0.34667rem;color:#333333;letter-spacing:0;text-align:left;margin-top:0.4rem}.content-topic-chn[data-v-fd909770]{text-align:left;font-size:0.32rem;color:#B2B2B2;letter-spacing:0;line-height:0.50667rem;margin-top:0.13333rem}.content-action[data-v-fd909770]{width:100%;display:flex;justify-content:space-between;align-items:center;margin-top:0.3rem}.content-action-author[data-v-fd909770]{color:#333333;font-size:0.34667rem}.content-action-actions[data-v-fd909770]{display:flex;align-items:center;justify-content:space-around;width:4rem}.content-action-actions-text[data-v-fd909770]{color:#B2B2B2;font-size:0.32rem}.content-action-actions-btn[data-v-fd909770]{width:0.8rem;height:0.8rem;display:flex;justify-content:center;align-items:center;border-radius:50%}.content-action-actions .share[data-v-fd909770]{width:0.49333rem;height:0.49333rem}.content-action-actions .like[data-v-fd909770]{width:0.46667rem;height:0.45333rem}.action[data-v-fd909770]{background:#fff;width:100vw;padding:0.5rem 0;text-align:center;position:fixed;bottom:0;left:0}.action-text[data-v-fd909770]{text-align:center;font-size:0.32rem;color:#B2B2B2;margin-bottom:0.3rem}.action-text-accent[data-v-fd909770]{color:#16C8D2}.action-content[data-v-fd909770]{display:inline-block;text-align:center;width:8.66667rem;position:relative;line-height:1.33333rem;border-radius:0.66667rem}.action-content-text[data-v-fd909770]{font-size:0.45rem;color:#fff}.action-content-deco0[data-v-fd909770]{position:absolute;top:0.15rem;left:0.7rem;width:0.16rem;height:0.16rem;background:rgba(255,255,255,0.4);border-radius:0.08rem}.action-content-deco1[data-v-fd909770]{position:absolute;top:0.15rem;left:1rem;width:1.33333rem;height:0.16rem;background:rgba(255,255,255,0.4);border-radius:0.08rem}.topaction[data-v-fd909770]{width:100vw;display:flex;justify-content:space-between;color:#333333;font-size:0.34667rem;padding-top:0.8rem}.topaction-rank[data-v-fd909770]{border-top-left-radius:0.4rem;border-bottom-left-radius:0.4rem;box-shadow:0 0 0.4rem -0.3rem #666666;background:#fff;width:1.92rem;line-height:0.85333rem;text-align:center;padding-left:0.13333rem}.sharehelp[data-v-fd909770]{position:fixed;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.6)}.sharehelp-img[data-v-fd909770]{width:7.2rem;position:fixed;left:1.8rem;top:0}\n",""])},489:function(t,e,n){"use strict";n.r(e);n(42),n(40);var r,o,c,d,l,h,f,m=n(5),v=n(180),w=n(190),k=n(216),_=n(189),x=n(201),y=n(186),A=n(212),S=(n(195),{name:"Share",mixins:[x.default],head:function(){return{title:"才艺视频"}},components:{"poster-modal":A.a,toast:_.a},data:function(){return{stuData:{videoSrc:null,like:0,name:""},themeColor:"#fff",topic:{cn_topic_name:"",en_topic_name:""},liked:!1,shareStyle:{},showShareHelp:!1,showPosterModal:!1,registerUrl:"",isShowWindow:!1,isEnable:!1}},methods:{clickLike:(f=Object(m.a)(regeneratorRuntime.mark(function t(){var e,n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.liked,(n=this.$route.query).activity_id,r=n.work_id,this.isEnable){t.next=5;break}return this.$refs.toast.showToast("集赞活动已结束"),t.abrupt("return");case 5:if(this.liked?this.stuData.like=this.stuData.like-1>=0?this.stuData.like-1:0:this.stuData.like++,this.liked=!this.liked,e){t.next=13;break}return t.next=10,v.a.get("".concat(w.API.LIKE,"?work_id=").concat(r));case 10:o=t.sent,t.next=16;break;case 13:return t.next=15,v.a.get("".concat(w.API.UNLIKE,"?&work_id=").concat(r));case 15:o=t.sent;case 16:o.status?this.checkLogin():this.$refs.toast.showToast(o.info);case 17:case"end":return t.stop()}},t,this)})),function(){return f.apply(this,arguments)}),checkLogin:(h=Object(m.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("".concat(w.API.CHECK_LOGIN));case 3:(e=t.sent).status||console.log(e.info),t.next=23;break;case 7:if(t.prev=7,t.t0=t.catch(0),console.log(t.t0),401!==t.t0.response.status||!this.isShowWindow){t.next=23;break}if(n=window.localStorage.getItem("curTime")){t.next=17;break}window.localStorage.setItem("curTime",(new Date).getTime()),this.showPosterModal=!0,t.next=23;break;case 17:if(!((new Date).getTime()-n>288e5)){t.next=22;break}return this.showPosterModal=!0,window.localStorage.setItem("curTime",(new Date).getTime()),t.abrupt("return");case 22:this.showPosterModal=!1;case 23:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return h.apply(this,arguments)}),checkWindows:(l=Object(m.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.$route.query.activity_id,t.next=4,v.a.get("".concat(w.API.GET_ZAN_CONFIG,"?activity_id=").concat(e,"&tjm=").concat(window.localStorage.getItem("userSid")));case 4:if((n=t.sent).status){t.next=8;break}return console.log(n.info),t.abrupt("return");case 8:n.data&&"1"==n.data.is_show_zan_alert&&(this.registerUrl=n.data.my_url,this.isShowWindow=!0),this.isEnable=n.data.is_enable,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(){return l.apply(this,arguments)}),initData:(d=Object(m.a)(regeneratorRuntime.mark(function t(){var e,n,r,o,c,d,l,h,f,m,_,x;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.query,n=e.activity_id,r=e.work_id,this.$route.query.sid&&window.localStorage.setItem("userSid",this.$route.query.sid),t.next=4,v.a.get("".concat(w.API.WORK,"?activity_id=").concat(n,"&work_id=").concat(r));case 4:if((o=t.sent).status){t.next=8;break}return this.$refs.toast.showToast(o.info),t.abrupt("return");case 8:return c=o.data.work,this.topic={cn_topic_name:c.cn_topic_name,en_topic_name:c.en_topic_name},this.stuData={videoSrc:c.video_url,like:c.zan,name:c.en_name},this.liked=c.is_zan,t.next=14,v.a.get("".concat(w.API.ACTIVITY_DETAIL,"?activity_id=").concat(n));case 14:if((d=t.sent).status){t.next=18;break}return this.$refs.toast.showToast(d.info),t.abrupt("return");case 18:return document.title=d.data.name,this.themeColor=d.data.button_color,this.shareStyle.background="url(".concat(d.data.share_pic_url,") 0 0 / contain no-repeat"),this.shareStyle.backgroundColor="#fff",l=window.location.href,t.next=25,v.a.post("".concat(w.API.WX_SHARE1),{activity_id:n,url:l,work_id:r,sid:window.localStorage.getItem("userSid")?window.localStorage.getItem("userSid"):""});case 25:if((h=t.sent).status){t.next=29;break}return this.$refs.toast.showToast(h.info),t.abrupt("return");case 29:f=h.data.wx_config,m=h.data.wx_data,_=Object(k.initWX)({appId:f.appId,timestamp:f.timestamp,nonceStr:f.nonceStr,signature:f.signature}),x={title:m.share_title,desc:m.share_desc,link:m.share_link,imgUrl:m.share_img_url},_.ready(function(){_.updateAppMessageShareData(x),_.updateTimelineShareData(x),_.onMenuShareAppMessage(x),_.onMenuShareTimeline(x),_.error(function(t){console.log(t)})});case 34:case"end":return t.stop()}},t,this)})),function(){return d.apply(this,arguments)}),gotoRegister:function(){window._hmt&&window._hmt.push(["_trackEvent","div","click","免费领取大礼包"]),window.location=this.registerUrl},getOpenid:(c=Object(m.a)(regeneratorRuntime.mark(function t(){var e,code,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.query,code=e.code,e.activity_id,e.work_id,t.next=3,v.a.get("".concat(w.API.GET_OPENID,"?code=").concat(code));case 3:(n=t.sent).status||this.$refs.toast.showToast(n.info);case 5:case"end":return t.stop()}},t,this)})),function(){return c.apply(this,arguments)}),shareToFrends:function(){this.showShareHelp=!0},gotoIndex:function(){window._hmt&&window._hmt.push(["_trackEvent","div","click","#点击回首页"]),window.location="".concat("https://release6.landi.com/static-web/mobile","/presentation/?activity_id=").concat(this.$route.query.activity_id,"&sid=").concat(window.localStorage.getItem("userSid"))},playFn:function(t){var e=document.getElementById(t);Object(y.a)(e)},getSid:(o=Object(m.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("".concat(w.API.MY_SID));case 3:(e=t.sent).status&&window.localStorage.setItem("userSid",e.data.sid),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])})),function(){return o.apply(this,arguments)})},mounted:(r=Object(m.a)(regeneratorRuntime.mark(function t(){var code;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.WeixinJSBridge&&window.WeixinJSBridge.call("hideToolbar"),this.$refs.toast.showLoadingToast(),null!=(code=this.$route.query.code)){t.next=7;break}return sessionStorage.setItem("lastUrl",window.location.href),Object(k.getWXCode)(window.location.href),t.abrupt("return");case 7:if(!code){t.next=16;break}return t.next=10,this.getOpenid();case 10:return t.next=12,this.initData();case 12:return t.next=14,this.checkWindows();case 14:return t.next=16,this.getSid();case 16:this.$refs.toast.hideLoadingToast();case 17:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})}),C=(n(408),n(19)),component=Object(C.a)(S,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{style:t.shareStyle,attrs:{id:"share"}},[r("div",{staticClass:"topaction"},[r("div"),t._v(" "),r("div",{staticClass:"topaction-rank",on:{click:function(e){return t.gotoPageWithHistory("presentation-rank")}}},[t._v("点赞排行")])]),t._v(" "),r("div",{staticClass:"content"},[t.stuData.videoSrc?r("div",{staticClass:"content-video",on:{click:function(e){return t.playFn("video-share")}}},[r("video",{staticStyle:{display:"none"},attrs:{id:"video-share",controls:"",preload:"auto",src:t.stuData.videoSrc}}),t._v(" "),r("img",{staticClass:"content-video-img",attrs:{src:t.stuData.videoSrc+"?vframe/jpg/offset/2/h/960/"}}),t._v(" "),r("div",{staticClass:"content-video-play"})]):t._e(),t._v(" "),r("div",{staticClass:"content-topic-eng"},[t._v(t._s(t.topic.en_topic_name))]),t._v(" "),r("div",{staticClass:"content-topic-chn"},[t._v(t._s(t.topic.cn_topic_name))]),t._v(" "),r("div",{staticClass:"content-action"},[r("div",{staticClass:"content-action-author"},[t._v("作者: "+t._s(t.stuData.name))]),t._v(" "),r("div",{staticClass:"content-action-actions"},[r("div",{staticClass:"content-action-actions-btn",staticStyle:{background:"#FFD750"},on:{click:t.shareToFrends}},[r("img",{staticClass:"share",attrs:{src:n(406)}})]),t._v(" "),r("div",{staticClass:"content-action-actions-btn",style:{background:t.liked?"#F0552D":"#E6E6E6"},on:{click:t.clickLike}},[r("img",{staticClass:"like",attrs:{src:n(407)}})]),t._v(" "),r("div",{staticClass:"content-action-actions-text",style:{color:t.liked?"#F0552D":"#E6E6E6"}},[t._v(t._s(t.stuData.like)+"人点赞")])])])]),t._v(" "),r("div",{staticClass:"action"},[r("div",{staticClass:"action-text"},[r("span",{staticClass:"action-text-accent",on:{click:t.gotoRegister}},[t._v("免费领取")]),t._v(" "),r("span",[t._v("兰迪288元试听课大礼包")])]),t._v(" "),r("div",{staticClass:"action-content",style:{background:t.themeColor},on:{click:t.gotoIndex}},[r("div",{staticClass:"action-content-text"},[t._v("去首页看看")]),t._v(" "),r("div",{staticClass:"action-content-deco0"}),t._v(" "),r("div",{staticClass:"action-content-deco1"})])]),t._v(" "),t.showShareHelp?r("div",{staticClass:"sharehelp",on:{click:function(){t.showShareHelp=!1}}},[r("img",{staticClass:"sharehelp-img",attrs:{src:n(260)}})]):t._e(),t._v(" "),r("poster-modal",{attrs:{poster:0},on:{click:t.gotoRegister},model:{value:t.showPosterModal,callback:function(e){t.showPosterModal=e},expression:"showPosterModal"}}),t._v(" "),r("toast",{ref:"toast"})],1)},[],!1,null,"fd909770",null);e.default=component.exports}}]);