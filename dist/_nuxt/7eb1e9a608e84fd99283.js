(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{290:function(t,e,n){var content=n(479);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("555b4199",content,!0,{sourceMap:!1})},476:function(t,e,n){t.exports=n.p+"img/1fcd863.png"},477:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAhxJREFUWAnNWD9PwkAcbREENl1IjIuLxgE/BAkrhoGExJEwufERDCMJH4L4ARwwUWd2Bx2MDLiAJg66mWgA32vukl7TXtqzR/0lL/fn9+e93rXXguOE2Hq9LgFnwBiYAV+ivUPbAcohad4UfSKGsTNA5rIWa5aicpV5BNaAKaCzdzhPlUQMOAfQpzPWrgVzlTECeLVLXZWAry8LYL4f8OmG5OjIXKWFowWsdNkRvnPME0mNXC0pwmUHE/toHoBdjhPaUsRvJcxj+Adw4rruPCeSL9CaiGA6BZiIYC45ye24WI09tC/ANpCFfYP0gCvSBLISwQsnd5NC6hxlbHUKqWYsgvRVCqn8AyEVCol35NpVW6aQN7scsaq/UsgiVqjdoAWFTOxyxKo+oZBxrFC7QWOerBTzBBza5YqsPoXnOIcXzgqdQWSYfceAGuTbtwC+R+DIPq/C8IxRFUJ+uC0OO2h67G/YeoJbpcX9MgI2ZSM/u7c1cgIKdtDnFvFDyabNUZxb8ilJvK2RA+FoY8xvBFvG2m2/iEgirEzX4v50I4nDHBAytCBmGMalnYMIHnaXKYphLeWe1ArwO5FYAK5TEMMaPKvMDQWKwM0fxDC3aK7Al4lC/C18ayCGOel+eKEgV+YqgRjGprMSvkXxuiicB+LcwIzJB/NTHYOAT5Pu0abP7OkwUQqyHuD/54D9LF6c3o/3BsjvBRomFyRzfgEo9JTJnRgrcgAAAABJRU5ErkJggg=="},478:function(t,e,n){"use strict";var o=n(290);n.n(o).a},479:function(t,e,n){e=t.exports=n(38)(!1);var o=n(182)(n(214));e.push([t.i,".top-step-bar[data-v-b82c5968]{padding-top:0.26667rem;margin-bottom:0.26667rem;height:2.2rem}.page-content[data-v-b82c5968]{padding:0 0.4rem}.page-content-content[data-v-b82c5968]{display:flex;flex-direction:column;justify-content:space-between;height:73vh}.signup-title[data-v-b82c5968]{font-size:0.4rem;color:#333333;font-weight:bold;margin-bottom:0.4rem}.signup-title2[data-v-b82c5968]{font-size:0.37333rem;color:#333333;margin-bottom:0.26667rem}#share[data-v-b82c5968]{width:100vw;height:100vh}.content[data-v-b82c5968]{width:9.2rem;padding:0.4rem 0.33333rem;box-shadow:0 0.02667rem 0.05333rem 0 #CCCCCC;background:#fff;margin-top:0.61333rem;position:relative;left:50%;top:0;transform:translateX(-50%)}.content-video[data-v-b82c5968]{width:8.53333rem;height:4.8rem;overflow:hidden;display:flex;justify-content:center;align-items:center;position:relative}.content-video-img[data-v-b82c5968]{height:inherit}.content-video-play[data-v-b82c5968]{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:1.33333rem;height:1.33333rem;background:url("+o+") 50% 50%/contain no-repeat}.content-topic-eng[data-v-b82c5968]{font-size:0.34667rem;color:#333333;letter-spacing:0;text-align:left;margin-top:0.4rem}.content-topic-chn[data-v-b82c5968]{text-align:left;font-size:0.32rem;color:#B2B2B2;letter-spacing:0;line-height:0.50667rem;margin-top:0.13333rem}.content-action[data-v-b82c5968]{width:100%;display:flex;justify-content:space-between;align-items:center;margin-top:0.3rem}.content-action-author[data-v-b82c5968]{color:#333333;font-size:0.34667rem}.content-action-actions[data-v-b82c5968]{display:flex;align-items:center;justify-content:space-around;width:4rem}.content-action-actions-text[data-v-b82c5968]{color:#B2B2B2;font-size:0.32rem}.content-action-actions-btn[data-v-b82c5968]{width:0.8rem;height:0.8rem;display:flex;justify-content:center;align-items:center;border-radius:50%}.content-action-actions .share[data-v-b82c5968]{width:0.49333rem;height:0.49333rem}.content-action-actions .like[data-v-b82c5968]{width:0.46667rem;height:0.45333rem}.action[data-v-b82c5968]{background:#fff;width:100vw;padding:0.5rem 0;text-align:center;position:fixed;bottom:0;left:0}.action-text[data-v-b82c5968]{text-align:center;font-size:0.32rem;color:#B2B2B2;margin-bottom:0.3rem}.action-text-accent[data-v-b82c5968]{color:#16C8D2}.action-content[data-v-b82c5968]{display:inline-block;text-align:center;width:8.66667rem;position:relative;line-height:1.33333rem;border-radius:0.66667rem}.action-content-text[data-v-b82c5968]{font-size:0.45rem;color:#fff}.action-content-deco0[data-v-b82c5968]{position:absolute;top:0.15rem;left:0.7rem;width:0.16rem;height:0.16rem;background:rgba(255,255,255,0.4);border-radius:0.08rem}.action-content-deco1[data-v-b82c5968]{position:absolute;top:0.15rem;left:1rem;width:1.33333rem;height:0.16rem;background:rgba(255,255,255,0.4);border-radius:0.08rem}.topaction[data-v-b82c5968]{width:100vw;display:flex;justify-content:space-between;color:#333333;font-size:0.34667rem;padding-top:0.8rem}.topaction-rank[data-v-b82c5968]{border-top-left-radius:0.4rem;border-bottom-left-radius:0.4rem;box-shadow:0 0 0.4rem -0.3rem #666666;background:#fff;width:1.92rem;line-height:0.85333rem;text-align:center;padding-left:0.13333rem}.sharehelp[data-v-b82c5968]{position:fixed;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.6)}.sharehelp-img[data-v-b82c5968]{width:7.2rem;position:fixed;left:1.8rem;top:0}\n",""])},585:function(t,e,n){"use strict";n.r(e);n(42),n(40);var o,r,c,d,l,h,m,v=n(5),f=n(180),w=n(196),_=n(222),k=n(187),x=n(198),A=n(197),y=n(200),C=(n(216),{name:"Share",mixins:[x.default],head:function(){return{title:"才艺视频"}},components:{"poster-modal":y.a,toast:k.a},data:function(){return{stuData:{videoSrc:null,like:0,name:""},themeColor:"#fff",topic:{cn_topic_name:"",en_topic_name:""},liked:!1,shareStyle:{},showShareHelp:!1,showPosterModal:!1,registerUrl:"",isShowWindow:!1,isEnable:!1}},methods:{clickLike:(m=Object(v.a)(regeneratorRuntime.mark(function t(){var e,n,o,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.liked,(n=this.$route.query).activity_id,o=n.work_id,this.isEnable){t.next=5;break}return this.$refs.toast.showToast("集赞活动已结束"),t.abrupt("return");case 5:if(this.liked?this.stuData.like=this.stuData.like-1>=0?this.stuData.like-1:0:this.stuData.like++,this.liked=!this.liked,e){t.next=13;break}return t.next=10,f.a.get("".concat(w.API.LIKE,"?work_id=").concat(o));case 10:r=t.sent,t.next=16;break;case 13:return t.next=15,f.a.get("".concat(w.API.UNLIKE,"?&work_id=").concat(o));case 15:r=t.sent;case 16:r.status?this.checkLogin():this.$refs.toast.showToast(r.info);case 17:case"end":return t.stop()}},t,this)})),function(){return m.apply(this,arguments)}),checkLogin:(h=Object(v.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("".concat(w.API.CHECK_LOGIN));case 3:(e=t.sent).status||console.log(e.info),t.next=23;break;case 7:if(t.prev=7,t.t0=t.catch(0),console.log(t.t0),401!==t.t0.response.status||!this.isShowWindow){t.next=23;break}if(n=window.localStorage.getItem("curTime")){t.next=17;break}window.localStorage.setItem("curTime",(new Date).getTime()),this.showPosterModal=!0,t.next=23;break;case 17:if(!((new Date).getTime()-n>288e5)){t.next=22;break}return this.showPosterModal=!0,window.localStorage.setItem("curTime",(new Date).getTime()),t.abrupt("return");case 22:this.showPosterModal=!1;case 23:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return h.apply(this,arguments)}),checkWindows:(l=Object(v.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.$route.query.activity_id,t.next=4,f.a.get("".concat(w.API.GET_ZAN_CONFIG,"?activity_id=").concat(e,"&tjm=").concat(window.localStorage.getItem("userSid")));case 4:if((n=t.sent).status){t.next=8;break}return console.log(n.info),t.abrupt("return");case 8:n.data&&"1"==n.data.is_show_zan_alert&&(this.registerUrl=n.data.my_url,this.isShowWindow=!0),this.isEnable=n.data.is_enable,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(){return l.apply(this,arguments)}),initData:(d=Object(v.a)(regeneratorRuntime.mark(function t(){var e,n,o,r,c,d,l,h,m,v,k,x;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.query,n=e.activity_id,o=e.work_id,this.$route.query.sid&&window.localStorage.setItem("userSid",this.$route.query.sid),t.next=4,f.a.get("".concat(w.API.WORK,"?activity_id=").concat(n,"&work_id=").concat(o));case 4:if((r=t.sent).status){t.next=8;break}return this.$refs.toast.showToast(r.info),t.abrupt("return");case 8:return c=r.data.work,this.topic={cn_topic_name:c.cn_topic_name,en_topic_name:c.en_topic_name},this.stuData={videoSrc:c.video_url,like:c.zan,name:c.en_name},this.liked=c.is_zan,t.next=14,f.a.get("".concat(w.API.ACTIVITY_DETAIL,"?activity_id=").concat(n));case 14:if((d=t.sent).status){t.next=18;break}return this.$refs.toast.showToast(d.info),t.abrupt("return");case 18:return document.title=d.data.name,this.themeColor=d.data.button_color,this.shareStyle.background="url(".concat(d.data.share_pic_url,") 0 0 / contain no-repeat"),this.shareStyle.backgroundColor="#fff",l=window.location.href,t.next=25,f.a.post("".concat(w.API.WX_SHARE1),{activity_id:n,url:l,work_id:o,sid:window.localStorage.getItem("userSid")?window.localStorage.getItem("userSid"):""});case 25:if((h=t.sent).status){t.next=29;break}return this.$refs.toast.showToast(h.info),t.abrupt("return");case 29:m=h.data.wx_config,v=h.data.wx_data,k=Object(_.initWX)({appId:m.appId,timestamp:m.timestamp,nonceStr:m.nonceStr,signature:m.signature}),x={title:v.share_title,desc:v.share_desc,link:v.share_link,imgUrl:v.share_img_url},k.ready(function(){k.updateAppMessageShareData(x),k.updateTimelineShareData(x),k.onMenuShareAppMessage(x),k.onMenuShareTimeline(x),k.error(function(t){console.log(t)})});case 34:case"end":return t.stop()}},t,this)})),function(){return d.apply(this,arguments)}),gotoRegister:function(t){"text"===t?window._hmt&&window._hmt.push(["_trackEvent","div","click","#免费领取大礼包#来自免费领取按钮--来自活动外化"]):window._hmt&&window._hmt.push(["_trackEvent","div","click","#免费领取大礼包#来自免费领取大礼包海报页--来自活动外化"]),window.location=this.registerUrl},getOpenid:(c=Object(v.a)(regeneratorRuntime.mark(function t(){var e,code,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.query,code=e.code,e.activity_id,e.work_id,t.next=3,f.a.get("".concat(w.API.GET_OPENID,"?code=").concat(code));case 3:(n=t.sent).status||this.$refs.toast.showToast(n.info);case 5:case"end":return t.stop()}},t,this)})),function(){return c.apply(this,arguments)}),shareToFrends:function(){this.showShareHelp=!0},gotoIndex:function(){window._hmt&&window._hmt.push(["_trackEvent","div","click","#点击回首页"]),window.location="".concat("https://www.landi.com/static-web/mobile","/presentation/?activity_id=").concat(this.$route.query.activity_id,"&sid=").concat(window.localStorage.getItem("userSid"))},playFn:function(t){var e=document.getElementById(t);Object(A.a)(e)},getSid:(r=Object(v.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("".concat(w.API.MY_SID));case 3:(e=t.sent).status&&window.localStorage.setItem("userSid",e.data.sid),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])})),function(){return r.apply(this,arguments)})},mounted:(o=Object(v.a)(regeneratorRuntime.mark(function t(){var code;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.WeixinJSBridge&&window.WeixinJSBridge.call("hideToolbar"),this.$refs.toast.showLoadingToast(),null!=(code=this.$route.query.code)){t.next=7;break}return sessionStorage.setItem("lastUrl",window.location.href),Object(_.getWXCode)(window.location.href),t.abrupt("return");case 7:if(!code){t.next=16;break}return t.next=10,this.getOpenid();case 10:return t.next=12,this.initData();case 12:return t.next=14,this.checkWindows();case 14:return t.next=16,this.getSid();case 16:this.$refs.toast.hideLoadingToast();case 17:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})}),S=(n(478),n(19)),component=Object(S.a)(C,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{style:t.shareStyle,attrs:{id:"share"}},[o("div",{staticClass:"topaction"},[o("div"),t._v(" "),o("div",{staticClass:"topaction-rank",on:{click:function(e){return t.gotoPageWithHistory("presentation-rank")}}},[t._v("点赞排行")])]),t._v(" "),o("div",{staticClass:"content"},[t.stuData.videoSrc?o("div",{staticClass:"content-video",on:{click:function(e){return t.playFn("video-share")}}},[o("video",{staticStyle:{display:"none"},attrs:{id:"video-share",controls:"",preload:"auto",src:t.stuData.videoSrc}}),t._v(" "),o("img",{staticClass:"content-video-img",attrs:{src:t.stuData.videoSrc+"?vframe/jpg/offset/2/h/960/"}}),t._v(" "),o("div",{staticClass:"content-video-play"})]):t._e(),t._v(" "),o("div",{staticClass:"content-topic-eng"},[t._v(t._s(t.topic.en_topic_name))]),t._v(" "),o("div",{staticClass:"content-topic-chn"},[t._v(t._s(t.topic.cn_topic_name))]),t._v(" "),o("div",{staticClass:"content-action"},[o("div",{staticClass:"content-action-author"},[t._v("作者: "+t._s(t.stuData.name))]),t._v(" "),o("div",{staticClass:"content-action-actions"},[o("div",{staticClass:"content-action-actions-btn",staticStyle:{background:"#FFD750"},on:{click:t.shareToFrends}},[o("img",{staticClass:"share",attrs:{src:n(476)}})]),t._v(" "),o("div",{staticClass:"content-action-actions-btn",style:{background:t.liked?"#F0552D":"#E6E6E6"},on:{click:t.clickLike}},[o("img",{staticClass:"like",attrs:{src:n(477)}})]),t._v(" "),o("div",{staticClass:"content-action-actions-text",style:{color:t.liked?"#F0552D":"#E6E6E6"}},[t._v(t._s(t.stuData.like)+"人点赞")])])])]),t._v(" "),o("div",{staticClass:"action"},[o("div",{staticClass:"action-text"},[o("span",{staticClass:"action-text-accent",on:{click:function(e){return t.gotoRegister("text")}}},[t._v("免费领取")]),t._v(" "),o("span",[t._v("兰迪288元试听课大礼包")])]),t._v(" "),o("div",{staticClass:"action-content",style:{background:t.themeColor},on:{click:t.gotoIndex}},[o("div",{staticClass:"action-content-text"},[t._v("去首页看看")]),t._v(" "),o("div",{staticClass:"action-content-deco0"}),t._v(" "),o("div",{staticClass:"action-content-deco1"})])]),t._v(" "),t.showShareHelp?o("div",{staticClass:"sharehelp",on:{click:function(){t.showShareHelp=!1}}},[o("img",{staticClass:"sharehelp-img",attrs:{src:n(336)}})]):t._e(),t._v(" "),o("poster-modal",{attrs:{poster:0},on:{click:function(e){return t.gotoRegister("poster")}},model:{value:t.showPosterModal,callback:function(e){t.showPosterModal=e},expression:"showPosterModal"}}),t._v(" "),o("toast",{ref:"toast"})],1)},[],!1,null,"b82c5968",null);e.default=component.exports}}]);