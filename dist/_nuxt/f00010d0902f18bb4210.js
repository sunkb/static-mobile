(window.webpackJsonp=window.webpackJsonp||[]).push([[25,21],{188:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(108);var o=function(t){var video=t,e=document;/Android|webOS|iPhone|iPad|BlackBerry|iPod/i.test(navigator.userAgent)?void 0!==video.play()&&(video.play(),"ipad"==navigator.userAgent.toLowerCase().match(/iPad/i)&&(video.addEventListener("play",function(){var t,e=(t=video).webkitEnterFullScreen?"webkitEnterFullScreen":!!t.webkitRequestFullScreen&&"webkitRequestFullScreen";video[e]()}),video.addEventListener("webkitfullscreenchange",function(t){e.webkitIsFullScreen||video.pause()},!1),video.addEventListener("fullscreenchange ",function(t){e.webkitIsFullScreen||video.pause()},!1),video.addEventListener("ended",function(){this.webkitExitFullScreen()},!1))):(video.requestFullscreen(),video.play())}},189:function(t,e){},191:function(t,e,n){t.exports=n.p+"img/6446c2c.png"},202:function(t,e,n){"use strict";n.r(e),n.d(e,"initWX",function(){return d}),n.d(e,"getWXCode",function(){return l});n(60),n(22),n(23),n(13),n(43);var o=n(25);function r(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,n)}return e}var c=n(190);function d(t){return c.config(function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(source,!0).forEach(function(e){Object(o.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):r(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}({},t,{debug:!1,jsApiList:["updateAppMessageShareData","updateTimelineShareData","onMenuShareAppMessage","onMenuShareTimeline"]})),c}function l(t){var e={appid:"wx575385af6b09a6e0",redirect_uri:encodeURIComponent(t),response_type:"code",scope:"snsapi_base"};window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(e.appid,"&redirect_uri=").concat(e.redirect_uri,"&response_type=").concat(e.response_type,"&scope=").concat(e.scope,"&state=1#wechat_redirect")}},244:function(t,e,n){t.exports=n.p+"img/0153727.png"},245:function(t,e,n){var content=n(369);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("5797b6d2",content,!0,{sourceMap:!1})},366:function(t,e,n){t.exports=n.p+"img/1fcd863.png"},367:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAhxJREFUWAnNWD9PwkAcbREENl1IjIuLxgE/BAkrhoGExJEwufERDCMJH4L4ARwwUWd2Bx2MDLiAJg66mWgA32vukl7TXtqzR/0lL/fn9+e93rXXguOE2Hq9LgFnwBiYAV+ivUPbAcohad4UfSKGsTNA5rIWa5aicpV5BNaAKaCzdzhPlUQMOAfQpzPWrgVzlTECeLVLXZWAry8LYL4f8OmG5OjIXKWFowWsdNkRvnPME0mNXC0pwmUHE/toHoBdjhPaUsRvJcxj+Adw4rruPCeSL9CaiGA6BZiIYC45ye24WI09tC/ANpCFfYP0gCvSBLISwQsnd5NC6hxlbHUKqWYsgvRVCqn8AyEVCol35NpVW6aQN7scsaq/UsgiVqjdoAWFTOxyxKo+oZBxrFC7QWOerBTzBBza5YqsPoXnOIcXzgqdQWSYfceAGuTbtwC+R+DIPq/C8IxRFUJ+uC0OO2h67G/YeoJbpcX9MgI2ZSM/u7c1cgIKdtDnFvFDyabNUZxb8ilJvK2RA+FoY8xvBFvG2m2/iEgirEzX4v50I4nDHBAytCBmGMalnYMIHnaXKYphLeWe1ArwO5FYAK5TEMMaPKvMDQWKwM0fxDC3aK7Al4lC/C18ayCGOel+eKEgV+YqgRjGprMSvkXxuiicB+LcwIzJB/NTHYOAT5Pu0abP7OkwUQqyHuD/54D9LF6c3o/3BsjvBRomFyRzfgEo9JTJnRgrcgAAAABJRU5ErkJggg=="},368:function(t,e,n){"use strict";var o=n(245);n.n(o).a},369:function(t,e,n){e=t.exports=n(38)(!1);var o=n(180)(n(191));e.push([t.i,".top-step-bar[data-v-fd909770] {\n  padding-top: 0.26667rem;\n  margin-bottom: 0.26667rem;\n  height: 2.2rem;\n}\n.page-content[data-v-fd909770] {\n  padding: 0 0.4rem;\n}\n.page-content-content[data-v-fd909770] {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 73vh;\n}\n.signup-title[data-v-fd909770] {\n  font-size: 0.4rem;\n  color: #333333;\n  font-weight: bold;\n  margin-bottom: 0.4rem;\n}\n.signup-title2[data-v-fd909770] {\n  font-size: 0.37333rem;\n  color: #333333;\n  margin-bottom: 0.26667rem;\n}\n#share[data-v-fd909770] {\n  width: 100vw;\n  height: 100vh;\n}\n.content[data-v-fd909770] {\n  width: 9.2rem;\n  padding: 0.4rem 0.33333rem;\n  box-shadow: 0 0.02667rem 0.05333rem 0 #CCCCCC;\n  background: #fff;\n  margin-top: 0.61333rem;\n  position: relative;\n  left: 50%;\n  top: 0;\n  transform: translateX(-50%);\n}\n.content-video[data-v-fd909770] {\n    width: 8.53333rem;\n    height: 4.8rem;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n}\n.content-video-img[data-v-fd909770] {\n      height: inherit;\n}\n.content-video-play[data-v-fd909770] {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: 1.33333rem;\n      height: 1.33333rem;\n      background: url("+o+") 50% 50%/contain no-repeat;\n}\n.content-topic-eng[data-v-fd909770] {\n    font-size: 0.34667rem;\n    color: #333333;\n    letter-spacing: 0;\n    text-align: left;\n    margin-top: 0.4rem;\n}\n.content-topic-chn[data-v-fd909770] {\n    text-align: left;\n    font-size: 0.32rem;\n    color: #B2B2B2;\n    letter-spacing: 0;\n    line-height: 0.50667rem;\n    margin-top: 0.13333rem;\n}\n.content-action[data-v-fd909770] {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 0.3rem;\n}\n.content-action-author[data-v-fd909770] {\n      color: #333333;\n      font-size: 0.34667rem;\n}\n.content-action-actions[data-v-fd909770] {\n      display: flex;\n      align-items: center;\n      justify-content: space-around;\n      width: 4rem;\n}\n.content-action-actions-text[data-v-fd909770] {\n        color: #B2B2B2;\n        font-size: 0.32rem;\n}\n.content-action-actions-btn[data-v-fd909770] {\n        width: 0.8rem;\n        height: 0.8rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border-radius: 50%;\n}\n.content-action-actions .share[data-v-fd909770] {\n        width: 0.49333rem;\n        height: 0.49333rem;\n}\n.content-action-actions .like[data-v-fd909770] {\n        width: 0.46667rem;\n        height: 0.45333rem;\n}\n.action[data-v-fd909770] {\n  background: #fff;\n  width: 100vw;\n  padding: 0.5rem 0;\n  text-align: center;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n}\n.action-text[data-v-fd909770] {\n    text-align: center;\n    font-size: 0.32rem;\n    color: #B2B2B2;\n    margin-bottom: 0.3rem;\n}\n.action-text-accent[data-v-fd909770] {\n      color: #16C8D2;\n}\n.action-content[data-v-fd909770] {\n    display: inline-block;\n    text-align: center;\n    width: 8.66667rem;\n    position: relative;\n    line-height: 1.33333rem;\n    border-radius: 0.66667rem;\n}\n.action-content-text[data-v-fd909770] {\n      font-size: 0.45rem;\n      color: #fff;\n}\n.action-content-deco0[data-v-fd909770] {\n      position: absolute;\n      top: 0.15rem;\n      left: 0.7rem;\n      width: 0.16rem;\n      height: 0.16rem;\n      background: rgba(255, 255, 255, 0.4);\n      border-radius: 0.08rem;\n}\n.action-content-deco1[data-v-fd909770] {\n      position: absolute;\n      top: 0.15rem;\n      left: 1rem;\n      width: 1.33333rem;\n      height: 0.16rem;\n      background: rgba(255, 255, 255, 0.4);\n      border-radius: 0.08rem;\n}\n.topaction[data-v-fd909770] {\n  width: 100vw;\n  display: flex;\n  justify-content: space-between;\n  color: #333333;\n  font-size: 0.34667rem;\n  padding-top: 0.8rem;\n}\n.topaction-rank[data-v-fd909770] {\n    border-top-left-radius: 0.4rem;\n    border-bottom-left-radius: 0.4rem;\n    box-shadow: 0 0 0.4rem -0.3rem #666666;\n    background: #fff;\n    width: 1.92rem;\n    line-height: 0.85333rem;\n    text-align: center;\n    padding-left: 0.13333rem;\n}\n.sharehelp[data-v-fd909770] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.6);\n}\n.sharehelp-img[data-v-fd909770] {\n    width: 7.2rem;\n    position: fixed;\n    left: 1.8rem;\n    top: 0;\n}\n",""])},427:function(t,e,n){"use strict";n.r(e);n(42),n(40);var o,r,c,d,l,h,f,m=n(5),v=n(181),w=n(193),k=n(202),_=n(195),x=n(194),y=n(188),A=n(199),S=(n(189),{name:"Share",mixins:[x.default],head:function(){return{title:"才艺视频"}},components:{"poster-modal":A.a,toast:_.a},data:function(){return{stuData:{videoSrc:null,like:0,name:""},themeColor:"#fff",topic:{cn_topic_name:"",en_topic_name:""},liked:!1,shareStyle:{},showShareHelp:!1,showPosterModal:!1,registerUrl:"",isShowWindow:!1,isEnable:!1}},methods:{clickLike:(f=Object(m.a)(regeneratorRuntime.mark(function t(){var e,n,o,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.liked,(n=this.$route.query).activity_id,o=n.work_id,this.isEnable){t.next=5;break}return this.$refs.toast.showToast("集赞活动已结束"),t.abrupt("return");case 5:if(this.liked?this.stuData.like=this.stuData.like-1>=0?this.stuData.like-1:0:this.stuData.like++,this.liked=!this.liked,e){t.next=13;break}return t.next=10,v.a.get("".concat(w.API.LIKE,"?work_id=").concat(o));case 10:r=t.sent,t.next=16;break;case 13:return t.next=15,v.a.get("".concat(w.API.UNLIKE,"?&work_id=").concat(o));case 15:r=t.sent;case 16:r.status?this.checkLogin():this.$refs.toast.showToast(r.info);case 17:case"end":return t.stop()}},t,this)})),function(){return f.apply(this,arguments)}),checkLogin:(h=Object(m.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("".concat(w.API.CHECK_LOGIN));case 3:(e=t.sent).status||console.log(e.info),t.next=23;break;case 7:if(t.prev=7,t.t0=t.catch(0),console.log(t.t0),401!==t.t0.response.status||!this.isShowWindow){t.next=23;break}if(n=window.localStorage.getItem("curTime")){t.next=17;break}window.localStorage.setItem("curTime",(new Date).getTime()),this.showPosterModal=!0,t.next=23;break;case 17:if(!((new Date).getTime()-n>288e5)){t.next=22;break}return this.showPosterModal=!0,window.localStorage.setItem("curTime",(new Date).getTime()),t.abrupt("return");case 22:this.showPosterModal=!1;case 23:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return h.apply(this,arguments)}),checkWindows:(l=Object(m.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.$route.query.activity_id,t.next=4,v.a.get("".concat(w.API.GET_ZAN_CONFIG,"?activity_id=").concat(e,"&tjm=").concat(window.localStorage.getItem("userSid")));case 4:if((n=t.sent).status){t.next=8;break}return console.log(n.info),t.abrupt("return");case 8:n.data&&"1"==n.data.is_show_zan_alert&&(this.registerUrl=n.data.my_url,this.isShowWindow=!0),this.isEnable=n.data.is_enable,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(){return l.apply(this,arguments)}),initData:(d=Object(m.a)(regeneratorRuntime.mark(function t(){var e,n,o,r,c,d,l,h,f,m,_,x;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.query,n=e.activity_id,o=e.work_id,this.$route.query.sid&&window.localStorage.setItem("userSid",this.$route.query.sid),t.next=4,v.a.get("".concat(w.API.WORK,"?activity_id=").concat(n,"&work_id=").concat(o));case 4:if((r=t.sent).status){t.next=8;break}return this.$refs.toast.showToast(r.info),t.abrupt("return");case 8:return c=r.data.work,this.topic={cn_topic_name:c.cn_topic_name,en_topic_name:c.en_topic_name},this.stuData={videoSrc:c.video_url,like:c.zan,name:c.en_name},this.liked=c.is_zan,t.next=14,v.a.get("".concat(w.API.ACTIVITY_DETAIL,"?activity_id=").concat(n));case 14:if((d=t.sent).status){t.next=18;break}return this.$refs.toast.showToast(d.info),t.abrupt("return");case 18:return document.title=d.data.name,this.themeColor=d.data.button_color,this.shareStyle.background="url(".concat(d.data.share_pic_url,") 0 0 / contain no-repeat"),this.shareStyle.backgroundColor="#fff",l=window.location.href,t.next=25,v.a.post("".concat(w.API.WX_SHARE1),{activity_id:n,url:l,work_id:o,sid:window.localStorage.getItem("userSid")?window.localStorage.getItem("userSid"):""});case 25:if((h=t.sent).status){t.next=29;break}return this.$refs.toast.showToast(h.info),t.abrupt("return");case 29:f=h.data.wx_config,m=h.data.wx_data,_=Object(k.initWX)({appId:f.appId,timestamp:f.timestamp,nonceStr:f.nonceStr,signature:f.signature}),x={title:m.share_title,desc:m.share_desc,link:m.share_link,imgUrl:m.share_img_url},_.ready(function(){_.updateAppMessageShareData(x),_.updateTimelineShareData(x),_.onMenuShareAppMessage(x),_.onMenuShareTimeline(x),_.error(function(t){console.log(t)})});case 34:case"end":return t.stop()}},t,this)})),function(){return d.apply(this,arguments)}),gotoRegister:function(){window._hmt&&window._hmt.push(["_trackEvent","div","click","免费领取大礼包"]),window.location=this.registerUrl},getOpenid:(c=Object(m.a)(regeneratorRuntime.mark(function t(){var e,code,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$route.query,code=e.code,e.activity_id,e.work_id,t.next=3,v.a.get("".concat(w.API.GET_OPENID,"?code=").concat(code));case 3:(n=t.sent).status||this.$refs.toast.showToast(n.info);case 5:case"end":return t.stop()}},t,this)})),function(){return c.apply(this,arguments)}),shareToFrends:function(){this.showShareHelp=!0},gotoIndex:function(){window._hmt&&window._hmt.push(["_trackEvent","div","click","#点击回首页"]),window.location="".concat("https://www.landi.com/static-web/mobile","/presentation/?activity_id=").concat(this.$route.query.activity_id,"&sid=").concat(window.localStorage.getItem("userSid"))},playFn:function(t){var e=document.getElementById(t);Object(y.a)(e)},getSid:(r=Object(m.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("".concat(w.API.MY_SID));case 3:(e=t.sent).status&&window.localStorage.setItem("userSid",e.data.sid),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])})),function(){return r.apply(this,arguments)})},mounted:(o=Object(m.a)(regeneratorRuntime.mark(function t(){var code;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.WeixinJSBridge&&window.WeixinJSBridge.call("hideToolbar"),this.$refs.toast.showLoadingToast(),null!=(code=this.$route.query.code)){t.next=7;break}return sessionStorage.setItem("lastUrl",window.location.href),Object(k.getWXCode)(window.location.href),t.abrupt("return");case 7:if(!code){t.next=16;break}return t.next=10,this.getOpenid();case 10:return t.next=12,this.initData();case 12:return t.next=14,this.checkWindows();case 14:return t.next=16,this.getSid();case 16:this.$refs.toast.hideLoadingToast();case 17:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})}),C=(n(368),n(19)),component=Object(C.a)(S,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{style:t.shareStyle,attrs:{id:"share"}},[o("div",{staticClass:"topaction"},[o("div"),t._v(" "),o("div",{staticClass:"topaction-rank",on:{click:function(e){return t.gotoPageWithHistory("presentation-rank")}}},[t._v("点赞排行")])]),t._v(" "),o("div",{staticClass:"content"},[t.stuData.videoSrc?o("div",{staticClass:"content-video",on:{click:function(e){return t.playFn("video-share")}}},[o("video",{staticStyle:{display:"none"},attrs:{id:"video-share",controls:"",preload:"auto",src:t.stuData.videoSrc}}),t._v(" "),o("img",{staticClass:"content-video-img",attrs:{src:t.stuData.videoSrc+"?vframe/jpg/offset/2/h/960/"}}),t._v(" "),o("div",{staticClass:"content-video-play"})]):t._e(),t._v(" "),o("div",{staticClass:"content-topic-eng"},[t._v(t._s(t.topic.en_topic_name))]),t._v(" "),o("div",{staticClass:"content-topic-chn"},[t._v(t._s(t.topic.cn_topic_name))]),t._v(" "),o("div",{staticClass:"content-action"},[o("div",{staticClass:"content-action-author"},[t._v("作者: "+t._s(t.stuData.name))]),t._v(" "),o("div",{staticClass:"content-action-actions"},[o("div",{staticClass:"content-action-actions-btn",staticStyle:{background:"#FFD750"},on:{click:t.shareToFrends}},[o("img",{staticClass:"share",attrs:{src:n(366)}})]),t._v(" "),o("div",{staticClass:"content-action-actions-btn",style:{background:t.liked?"#F0552D":"#E6E6E6"},on:{click:t.clickLike}},[o("img",{staticClass:"like",attrs:{src:n(367)}})]),t._v(" "),o("div",{staticClass:"content-action-actions-text",style:{color:t.liked?"#F0552D":"#E6E6E6"}},[t._v(t._s(t.stuData.like)+"人点赞")])])])]),t._v(" "),o("div",{staticClass:"action"},[o("div",{staticClass:"action-text"},[o("span",{staticClass:"action-text-accent",on:{click:t.gotoRegister}},[t._v("免费领取")]),t._v(" "),o("span",[t._v("兰迪288元试听课大礼包")])]),t._v(" "),o("div",{staticClass:"action-content",style:{background:t.themeColor},on:{click:t.gotoIndex}},[o("div",{staticClass:"action-content-text"},[t._v("去首页看看")]),t._v(" "),o("div",{staticClass:"action-content-deco0"}),t._v(" "),o("div",{staticClass:"action-content-deco1"})])]),t._v(" "),t.showShareHelp?o("div",{staticClass:"sharehelp",on:{click:function(){t.showShareHelp=!1}}},[o("img",{staticClass:"sharehelp-img",attrs:{src:n(244)}})]):t._e(),t._v(" "),o("poster-modal",{attrs:{poster:0},on:{click:t.gotoRegister},model:{value:t.showPosterModal,callback:function(e){t.showPosterModal=e},expression:"showPosterModal"}}),t._v(" "),o("toast",{ref:"toast"})],1)},[],!1,null,"fd909770",null);e.default=component.exports}}]);