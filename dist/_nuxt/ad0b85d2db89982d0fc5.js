(window.webpackJsonp=window.webpackJsonp||[]).push([[24,16],{180:function(t,e,n){"use strict";n(13);var o=n(73),r=n.n(o),c=n(181),d=n.n(c);console.log("process.env.ENV_API","http://release6.landi.com/");var l=r.a.create({baseURL:"http://release6.landi.com/",transformRequest:[function(data){return d.a.stringify(data)}],headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,timeout:5e4});l.interceptors.request.use(function(t){return t},function(t){return console.log(t),Promise.reject(t)}),l.interceptors.response.use(function(t){return 200===t.status?Promise.resolve(t.data):Promise.reject(t)},function(t){return console.log(t,t.response),Promise.reject(t)}),e.a=l},184:function(t,e,n){var content=n(195);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("75bd2bd6",content,!0,{sourceMap:!1})},186:function(t,e,n){var content=n(198);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("1febb9da",content,!0,{sourceMap:!1})},187:function(t,e,n){var content=n(203);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("5d6f913d",content,!0,{sourceMap:!1})},188:function(t,e,n){var content=n(205);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("1291ba86",content,!0,{sourceMap:!1})},193:function(t,e,n){"use strict";n.r(e),n.d(e,"STEPS",function(){return r}),n.d(e,"API",function(){return c}),n.d(e,"SIGNUP_DATA_RULE",function(){return d}),n.d(e,"TOPICS",function(){return l}),n.d(e,"VIDEO_STATUS_TYPE",function(){return h}),n.d(e,"STROGE",function(){return A}),n.d(e,"LANDI_LEVEL",function(){return m}),n.d(e,"RANK_LIST",function(){return v}),n.d(e,"INDEX_STEPS",function(){return f});var o=n(190);n.d(e,"REGION_DATA",function(){return o.default});var r=["报名信息","选择题目","上传视频","确认提交","我的作品"],c={STU_SHARE_DATA:"",ACTIVITY_DETAIL:"/Mobile/StudentActivityDetail/detail",MY_WORK:"/Mobile/StudentActivity/myWork",SUBMIT_WORK:"/Mobile/StudentActivity/submitWork",RANK:"/Mobile/StudentActivity/rank",WX_SHARE:"/Mobile/StudentActivityDetail/share",WORK:"/Mobile/StudentActivityDetail/work"},d={chnName:{rule:/[\u4e00-\u9fa5]{2,}/,message:"请输入正确的中文名"},engName:{rule:/^[a-z]{2,}$/i,message:"请输入正确的英文名"},landiLevel:{rule:/.+/,message:"请选择兰迪级别"},phone:{rule:/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/,message:"请输入正确的手机号码"},validateCode:{rule:/.+/,message:"请输入验证码"},province:{rule:/^[1-9]\d*(\.\d+)?$/,messgae:"请选择省份"},city:{rule:/^[1-9]\d*(\.\d+)?$/,messgae:"请选择城市"}},l=[{video:{src:"http://qn-video.abc360.com/40bc5e48-ca2d-48c8-9ff8-7a80e8a7ecdf.mp4",poster:"https://qn-static.landi.com/uploadtoolc64639d85d1b028a645b35a27acfe218.png"},text:{eng:"We can't just leave environmental protection to our govern ment every bady.",chn:"环境保护不仅仅是政府的事情，我们在日常生活中能为保护环境做什么呢？"}},{video:{src:"http://qn-video.abc360.com/40bc5e48-ca2d-48c8-9ff8-7a80e8a7ecdf.mp4",poster:"https://qn-static.landi.com/uploadtoolc64639d85d1b028a645b35a27acfe218.png"},text:{eng:"How do you spend your holiday?",chn:"你的假期是怎样度过的呢？"}}],m=[{name:"PRE E",type:1},{name:"E1-E2",type:2},{name:"E3-E7",type:3}],v=[{name:"Nina",like:2330,avatar:"https://www.abc360.com/Public/abc360mp/img/p3.png"},{name:"Saeah",like:1330,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Alina",like:330,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Liz",like:200,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Roma",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Luke",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Dandi",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Pengy",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Zoe",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Loft",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Tina",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Carol",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Roma",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Roma",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Roma",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Roma",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Roma",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Roma",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Roma",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"},{name:"Roma",like:100,avatar:"https://qn-static.landi.com/uploadtoolec4589c658440d583bbfdbf6b88608fd.jpg"}],f=["提交报名信息","选择参赛题目","上传参赛视频","确认提交参赛","分享好友点赞"],h={ADD:{type:"add",hint:"宝爸/宝妈们, 快来上传宝贝的视频"},UPLOADING:{type:"uploading",progress:0},ERROR:{type:"error",hint:"上传的文件不符合条件,尝试重新上传,也可直接将作品以邮件形式发送至 bisai@rochi.com"},UPLOADED:{type:"uploaded",hint:"上传成功, 点击重新上传"}},A={LANDI_LEVEL:"prt_landi_level",TOPIC:"prt_topic",VIDEO_SRC:"prt_video_src",STU_ENG_NAME:"prt_stu_eng_name",FORM_DATA:"prt_form_data"}},194:function(t,e,n){"use strict";var o=n(184);n.n(o).a},195:function(t,e,n){(t.exports=n(38)(!1)).push([t.i,".toasttrs-enter-active,\n.toasttrs-leave-active {\n  transition: opacity .5s;\n}\n.toasttrs-enter,\n.toasttrs-leave-to {\n  opacity: 0;\n}\n.toast-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n}\n.toast-content {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  max-width: 5.333333rem;\n  transform: translate(-50%, -50%);\n  padding: 0.266667rem 0.4rem;\n  color: #fff;\n  font-size: 0.373333rem;\n  border-radius: 0.133333rem;\n  background: rgba(0, 0, 0, 0.6);\n}\n.toast-content-div {\n  height: 0.133333rem;\n}\n.toast-content-loading {\n  display: flex;\n  justify-content: center;\n}\n.toast-content-loading-content {\n  position: relative;\n  width: 1.066667rem;\n  height: 1.066667rem;\n}\n.toast-content-loading-content div {\n  box-sizing: border-box;\n  position: absolute;\n  width: 1.066667rem;\n  height: 1.066667rem;\n  border: 1vw solid #fff;\n  border-radius: 50%;\n  animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: #fff transparent transparent transparent;\n}\n.toast-content-loading-content div:nth-child(1) {\n  animation-delay: -0.45s;\n}\n.toast-content-loading-content div:nth-child(2) {\n  animation-delay: -0.3s;\n}\n.toast-content-loading-content div:nth-child(3) {\n  animation-delay: -0.15s;\n}\n@keyframes lds-ring {\n0% {\n    transform: rotate(0deg);\n}\n100% {\n    transform: rotate(360deg);\n}\n}",""])},196:function(t,e,n){"use strict";var o={name:"Toast",data:function(){return{show:!1,text:"",position:{},mask:!0,loading:!1}},methods:{showToast:function(text){var t=this,mask=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.text=text,this.mask=mask,this.position=n,this.show=!0,setTimeout(function(){t.show=!1},e)},showLoadingToast:function(text){var mask=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.text=text,this.mask=mask,this.position=t,this.loading=!0,this.show=!0},hideLoadingToast:function(){this.loading=!1,this.show=!1}}},r=(n(194),n(19)),component=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"toasttrs"}},[t.show?n("div",[t.mask?n("div",{staticClass:"toast-mask"}):t._e(),t._v(" "),n("div",{staticClass:"toast-content",style:t.position},[t.loading?n("div",{staticClass:"toast-content-loading"},[n("div",{staticClass:"toast-content-loading-content"},[n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div")])]):t._e(),t._v(" "),t.text&&""!=t.text&&t.loading?n("div",{staticClass:"toast-content-div"}):t._e(),t._v(" "),t.text&&""!=t.text?n("div",{staticClass:"toast-content-text"},[t._v(t._s(t.text))]):t._e()])]):t._e()])},[],!1,null,null,null);e.a=component.exports},197:function(t,e,n){"use strict";var o=n(186);n.n(o).a},198:function(t,e,n){(t.exports=n(38)(!1)).push([t.i,".top-step-bar[data-v-20e1ccc8] {\n  margin-top: 0.4rem;\n  height: 2.2rem;\n}\n.page-content[data-v-20e1ccc8] {\n  padding: 0 0.4rem;\n}\nh1[data-v-20e1ccc8] {\n  font-size: 0.4rem;\n  font-weight: bold;\n  color: #333333;\n  padding: 0.3rem 0;\n}\nh2[data-v-20e1ccc8] {\n  font-size: 0.373333rem;\n  color: #333333;\n  padding: 0.2rem 0;\n}\nh3[data-v-20e1ccc8] {\n  font-size: 0.346667rem;\n  color: #B2B2B2;\n  padding: 0.1rem 0;\n}\np[data-v-20e1ccc8] {\n  font-size: 0.346667rem;\n  color: #808080;\n}\n#stepbar[data-v-20e1ccc8] {\n  position: relative;\n}\n.wrapper[data-v-20e1ccc8] {\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.circle[data-v-20e1ccc8] {\n  height: 0.693333rem;\n  width: 0.693333rem;\n  border-radius: 50%;\n  background: #fff;\n  box-shadow: 0 0 0.15rem -0.07rem #666666;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.circle-wrapper[data-v-20e1ccc8] {\n  height: 1.2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.circle-content[data-v-20e1ccc8] {\n  height: 0.533333rem;\n  width: 0.533333rem;\n  color: #fff;\n  background: #E6E6E6;\n  border-radius: 50%;\n  font-family: STYuanti-SC-Regular;\n  font-size: 0.293333rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.circle .accent[data-v-20e1ccc8] {\n  background: #16C8D2;\n}\n.step-item[data-v-20e1ccc8] {\n  color: #B2B2B2;\n  font-size: 0.293333rem;\n  font-weight: 400;\n}\n.step .accent[data-v-20e1ccc8] {\n  color: #16C8D2;\n}\n.progress[data-v-20e1ccc8] {\n  height: 1.2rem;\n  width: 90%;\n  position: absolute;\n  top: 0;\n  left: 5%;\n  overflow: hidden;\n}\n.progress-bar[data-v-20e1ccc8] {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translate(0, -50%);\n  height: 0.08rem;\n  border-radius: 0.04rem;\n}\n.progress-empty[data-v-20e1ccc8] {\n  width: 100%;\n  box-shadow: inset 0 0.02rem 0.03rem -0.025rem #666666;\n}\n.progress-fill[data-v-20e1ccc8] {\n  background: #16C8D2;\n}",""])},199:function(t,e,n){t.exports=n.p+"img/7fef1c0.png"},200:function(t,e,n){t.exports=n.p+"img/a8d20f2.png"},201:function(t,e,n){t.exports=n.p+"img/31eeb1c.png"},202:function(t,e,n){"use strict";var o=n(187);n.n(o).a},203:function(t,e,n){(t.exports=n(38)(!1)).push([t.i,".wrapper[data-v-12968d04] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.6);\n}\n.content[data-v-12968d04] {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: inherit;\n  height: inherit;\n}\n.content-poster[data-v-12968d04] {\n  width: 7.466667rem;\n}\n.content-close[data-v-12968d04] {\n  width: 60%;\n  text-align: right;\n  margin-bottom: -0.106667rem;\n}\n.content-close-img[data-v-12968d04] {\n  width: 0.666667rem;\n}",""])},204:function(t,e,n){"use strict";var o=n(188);n.n(o).a},205:function(t,e,n){(t.exports=n(38)(!1)).push([t.i,".top-step-bar {\n  margin-top: 0.4rem;\n  height: 2.2rem;\n}\n.page-content {\n  padding: 0 0.4rem;\n}\nh1 {\n  font-size: 0.4rem;\n  font-weight: bold;\n  color: #333333;\n  padding: 0.3rem 0;\n}\nh2 {\n  font-size: 0.373333rem;\n  color: #333333;\n  padding: 0.2rem 0;\n}\nh3 {\n  font-size: 0.346667rem;\n  color: #B2B2B2;\n  padding: 0.1rem 0;\n}\np {\n  font-size: 0.346667rem;\n  color: #808080;\n}\n.submit {\n  text-align: center;\n  width: 100%;\n  position: fixed;\n  bottom: 0.5rem;\n  left: 0;\n}\n.submit-text {\n  margin: 0.3rem 0;\n  color: #B2B2B2;\n  font-size: 0.32rem;\n  padding: 0 0.6rem;\n}\n.submit-btn {\n  display: inline-block;\n  width: 8.666667rem;\n  line-height: 1.333333rem;\n  text-align: center;\n  font-size: 0.453333rem;\n  color: #fff;\n  background: #B2B2B2;\n}\n.submit .accent {\n  background: #16C8D2;\n}",""])},207:function(t,e,n){"use strict";n(185);var o={name:"StepBar",props:{progress:{type:Number,default:0},steps:{type:Array,default:function(){return[]}}},data:function(){return{}}},r=(n(197),n(19)),c=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"stepbar"}},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-empty progress-bar"}),t._v(" "),n("div",{staticClass:"progress-fill progress-bar",style:{width:t.progress+"%"}})]),t._v(" "),n("div",{staticClass:"wrapper"},t._l(t.steps,function(e,o){return n("div",{key:e,staticClass:"wrapper-item"},[n("div",{staticClass:"circle-wrapper"},[n("div",{staticClass:"circle"},[n("div",{class:["circle-content",o/t.steps.length*100<=t.progress?"accent":""]},[t._v(t._s(o+1))])])]),t._v(" "),n("div",{staticClass:"step"},[n("div",{class:["step-item",o/t.steps.length*100<=t.progress?"accent":""]},[t._v(t._s(e))])])])}),0)])},[],!1,null,"20e1ccc8",null).exports,d={name:"PosterModal",model:{prop:"show",event:"changeShow"},props:{show:{type:Boolean,default:!1},poster:{type:Number,default:0}},methods:{close:function(){this.$emit("changeShow",!1)},gotoLink:function(){this.$emit("click")}}},l=(n(202),Object(r.a)(d,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.show?o("div",{staticClass:"wrapper"},[o("div",{staticClass:"content"},[o("div",{staticClass:"content-close"},[o("img",{staticClass:"content-close-img",attrs:{src:n(199)},on:{click:t.close}})]),t._v(" "),0==t.poster?o("img",{staticClass:"content-poster",attrs:{src:n(200)},on:{click:t.gotoLink}}):t._e(),t._v(" "),1==t.poster?o("img",{staticClass:"content-poster",attrs:{src:n(201)},on:{click:t.gotoLink}}):t._e()])]):t._e()])},[],!1,null,"12968d04",null).exports),m={name:"SubmitArea",props:{hint:{type:String,default:""},btnText:{type:String,default:""},isClickable:{type:Boolean,default:!1}},methods:{submit:function(){this.$emit("submit")}}},v=(n(204),Object(r.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"submit"},[n("div",{staticClass:"submit-text"},[t._v(t._s(t.hint))]),t._v(" "),n("div",{class:["submit-btn",t.isClickable?"accent":""],on:{click:t.submit}},[t._v(t._s(t.btnText))])])},[],!1,null,null,null).exports);n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"c",function(){return v})},254:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAUCAYAAAC07qxWAAAAAXNSR0IArs4c6QAAAYhJREFUKBWNkr9Lw1AQx5tflmxCXCKOzqLQqaBg0aRJGxxEEPwXBP8NFxcnERwcXBybtMYKtqJmCoKrkyjGwYBoCzahsX6vtCXRtnjwcpfv+7x79+69VKlU2k39w1iGYXYsyzrodDrsOJ6FqYA2AZ+4riuMghmaKJfL81EU2cjuSpK0kc1mv34v6IIk2rY9G4bhBcInnucNXdc/4/AAJLFarU4HQXCOMMDIG4bhk06WOICiKB62X4IeYlxXKpUZgsgSIAnFYvEdbgUHfETdN1QS6YmtSegbdcDzvGP85wRBUEaCtIB6i7btw2/92bqfkTzq/YZ7gZ/g4hPxGFmYTCazB7+NdmlDt67Vanyz2TwClEc2BW265+NZKHYcR/R9/xTAHMdxi4VC4YH0REZkmmw0Ghb0qXQ6vaqq6jNBZIMa0S+51WpdkoaacpqmvXaJ3qd76t4930L7EEVxGff8FocoZnBNC+12+ww13eHlrA97OQSyuKY6/JUsy2ujIAJTpmkeog1jG0/cD4cAmT4DCe2kAAAAAElFTkSuQmCC"},255:function(t,e,n){var content=n(387);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("2520f9ee",content,!0,{sourceMap:!1})},375:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAg9JREFUaAXtmr9OwlAUh9sig5PECBOTK0vZ3E3cXFzcXVzgAZx1Y8T4ACaGwTi4GF9AWfgTBt7AwahxYIFE2vo7CSTkpDRV7K2cni69p5R77ne+0yaXYHe73WPLsppBEBRxTup4yeVytWq1ep9UgrjzOgC9TBiW1lL2PK/V7/fduAtL6j4HE+8kNTmbdxPQd4AusOtGQwI2eez6vn+NjrJNJl3MZRrYAuxhr9c7W1yEybFx4BncOaD3TYLOc6UCDMv0smwNBoPyfCGmzqkAExyAi9Pp9LbT6eRNwVKe1IApOaD3bNtu0tjUYaPCgalkEXkeAP6MAvgR96z0Eeb/wPw3/wV4JZi4Xwb0Y6otHXehf3jfQaaA0dJOpoCpUzIHvLHs+cAD/uY4zpHrum2ME3t7Lsv/2+vD4XB7Mpk00L4nYXNEGb7C/vVpnWAJsFKpfJZKpRqGXz8FNrVtDFvXStdGo9EWRIV2b+hFyoaWOMWvIa8YttHaa9PS2HMXxuMx7cZCt6BLgfGFPKAvcLYwCZ1EHFHPsAhADqHAvCLSYjUszSjnUcO8ItJiNSzNKOdRw7wi0mI1LM0o51HDvCLSYjUszSjnUcO8ItJiNSzNKOdRw7wi0mI1LM0o51HDvCLSYjUszSjnUcO8ItJiNSzNKOdRw7wi0mI1LM0o58meYfyB651XQWpMrGS4ngXoGWP9G0Vnh6+nvMDOAAAAAElFTkSuQmCC"},376:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAnZJREFUaAXtmr1KA0EUhbO7WNhZaGU605sEBUtRsLOWvIPptfURxCcQJIVY2IhNwMpq89dbaqWPkOx6D7gwhCRuZu7cGdhZCDvozrnnu2fcnZhEg8HgIs/zu1qttk0vW8dnkiSXrVbr2VaBsrqxACy81GezWW84HO6XNWbrupiEbSar+t7MsuxpNBptqT+UHgNY8tgj6HtaVZFkUbWWNHCNYM9paV+rJiTH4sCAI+gbgj6VBC1qOQGm4glB9yaTSb0wInV2BYyUd6bT6WOaphtSsKjjDBjFCfqITrcYSx0RdTiXKraizksURe/UgGzFNUa/Iv0f0n/wBdgIpuxkgn51uqTLGmW87qxSwLSk40oBY6UEYMa/Fy+lQsJexsJoKiTM2EwvpULCXsbCaCokzNhML6VCwiaxxHF8Ra9Dehv2YaKDudCAFjRNtdT53An32+12Sp8yHJtAYy40oEVm+6ph0zErML396o3H491ms/mlC13AQgNa0DSFVOdzAzfoI5U3Xeh5WGgRcEM1bDpmBYYZGNSBloCFP3ZgHWgpWGvA60BLwloFLgMtDWsdeBW0C1gR4GXQeGwVjx4bd2PUXXSI/iNeTRVm8PiShEVNK3dpCPt6iAGr6SJZ3c2JaSNFgOdhsYx1NiemsJhvHXgRLHZjujsyU2irwMtgC9MuoK0B/wfrCtoKcFlYF9DswOvCSkOzAuvCSkJzA3dMt4vzNzJqYqdoCMeZFZjMntAXzg5Mt4sFNLQIkvULbKJ7aY6ETDVYEzY1IzE/AEt02WWNkLDL7kvUDglLdNlljZCwy+5L1K5ewrQ5/5borA81wIqEu1WA/mPs/gJ/XAadc7UYlQAAAABJRU5ErkJggg=="},377:function(t,e,n){t.exports=n.p+"img/88250a2.png"},386:function(t,e,n){"use strict";var o=n(255);n.n(o).a},387:function(t,e,n){(t.exports=n(38)(!1)).push([t.i,".top-step-bar[data-v-13b7a3ae] {\n  margin-top: 0.4rem;\n  height: 2.2rem;\n}\n.page-content[data-v-13b7a3ae] {\n  padding: 0 0.4rem;\n}\nh1[data-v-13b7a3ae] {\n  font-size: 0.4rem;\n  font-weight: bold;\n  color: #333333;\n  padding: 0.3rem 0;\n}\nh2[data-v-13b7a3ae] {\n  font-size: 0.373333rem;\n  color: #333333;\n  padding: 0.2rem 0;\n}\nh3[data-v-13b7a3ae] {\n  font-size: 0.346667rem;\n  color: #B2B2B2;\n  padding: 0.1rem 0;\n}\np[data-v-13b7a3ae] {\n  font-size: 0.346667rem;\n  color: #808080;\n}\n.title[data-v-13b7a3ae] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 0.3rem;\n}\n.title-action h3[data-v-13b7a3ae] {\n  color: #16C8D2;\n  display: inline-block;\n}\n.title-action-img[data-v-13b7a3ae] {\n  width: 0.133333rem;\n}\n.topic-text[data-v-13b7a3ae] {\n  margin-top: -0.1rem;\n  width: 9rem;\n}\n.topic-text-eng[data-v-13b7a3ae] {\n  font-weight: bold;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.topic-text-chn[data-v-13b7a3ae] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.video[data-v-13b7a3ae] {\n  text-align: center;\n  margin-top: 0.3rem;\n  display: flex;\n  justify-content: center;\n  position: relative;\n}\n.video-hint[data-v-13b7a3ae] {\n  width: 8.533333rem;\n  height: 4.8rem;\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  background: #FAFAFA;\n  border: 0.02rem dashed #E6E6E6;\n}\n.video-hint-hint[data-v-13b7a3ae] {\n  width: 2.6rem;\n  color: #B2B2B2;\n  font-size: 0.32rem;\n  margin-top: 0.2rem;\n}\n.video-hint-hintimg[data-v-13b7a3ae] {\n  width: 0.8rem;\n  height: 0.8rem;\n}\n.video-hint-progress[data-v-13b7a3ae] {\n  position: relative;\n  width: 4.666667rem;\n  height: 0.133333rem;\n  margin-bottom: 0.3rem;\n}\n.video-hint-progress-bg[data-v-13b7a3ae] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: #E6E6E6;\n  border-radius: 0.1rem;\n}\n.video-hint-progress-fg[data-v-13b7a3ae] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  background: #16C8D2;\n  border-radius: 0.1rem;\n}\n.video-uploaded-video[data-v-13b7a3ae] {\n  width: 8.533333rem;\n}\n.video-upload[data-v-13b7a3ae] {\n  position: absolute;\n  bottom: 0;\n  transform: translateY(50%);\n}\n.video-upload-action[data-v-13b7a3ae] {\n  width: 1.2rem;\n  height: 1.2rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #fff;\n  border-radius: 0.6rem;\n  box-shadow: 0 0 0.5rem -0.3rem #666666;\n}\n.video-upload-action-img[data-v-13b7a3ae] {\n  width: 0.86rem;\n  height: 0.86rem;\n}",""])},401:function(t,e,n){"use strict";n.r(e);n(75),n(61),n(23),n(24),n(43),n(40);var o,r,c,d=n(5),l=n(207),m=n(193),v=(n(378),n(112),n(113),n(13),n(59),n(218)),f=n(219),h=n(180),A=n(385),w={video:{mimeType:["video/mp4","video/mpeg","video/quicktime","video/x-msvideo","video/ogg","video/webm","application/vnd.rn-realmedia-vbr"],limit:300}},_="video",y=function(){function t(){Object(v.a)(this,t)}var e;return Object(f.a)(t,[{key:"init",value:(e=Object(d.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("/Mobile/StudentActivity/token");case 2:(e=t.sent).status&&(this.domain=e.data.domain,this.token=e.data.uptoken);case 4:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"upload",value:function(t,e,n,o,r){var c=30,d={};if(e&&w[e]&&(c=w[e].limit,d.mimeType=w[e].mimeType),t.size>1024*c*1024)return{error:"上传文件不能大于".concat(c,"MB")};var l=t.name.split("."),m="".concat(S(),".").concat(l[l.length-1]),v=A.upload(t,m,this.token,d);return v.subscribe({next:n,error:o,complete:r}),{subscription:v}}}]),t}(),S=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})},x=n(196),C={name:"Signup",head:function(){return{title:"上传视频"}},components:{"step-bar":l.b,"submit-area":l.c,toast:x.a},data:function(){return{steps:m.STEPS,landiLevel:"",topic:null,videoStatus:{},videoSrc:"",formData:null}},computed:{videoUploaded:function(){return"uploaded"==this.videoStatus.type}},methods:{nextStep:function(){this.videoUploaded&&this.$router.push({name:"presentation-signup-step4",query:this.$route.query})},gotoStep2:function(){this.$router.push({name:"presentation-signup-step2",query:this.$route.query})},videoUpload:(c=Object(d.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$refs.toast.showLoadingToast(),e=new y,t.next=4,e.init();case 4:this.videoStatus=m.VIDEO_STATUS_TYPE.UPLOADING,this.videoSrc=e.domain,n=e.upload(this.$refs.videoUploadInput.files[0],_,this.fileUploadNext,this.fileUploadError,this.fileUploadComplete),this.$refs.toast.hideLoadingToast(),n.error&&this.$refs.toast.showToast(n.error);case 9:case"end":return t.stop()}},t,this)})),function(){return c.apply(this,arguments)}),fileUploadNext:function(t){this.videoStatus.progress=Math.round(100*t.total.percent)/100},fileUploadError:function(t){console.log(t),this.videoStatus=m.VIDEO_STATUS_TYPE.ERROR,this.$refs.toast.showToast(t.message)},fileUploadComplete:function(t){this.videoStatus=m.VIDEO_STATUS_TYPE.UPLOADED,this.videoSrc="".concat(this.videoSrc).concat(t.key),this.formData.videoSrc=this.videoSrc,this.formData.videoKey=t.key,localStorage.setItem(m.STROGE.FORM_DATA,JSON.stringify(this.formData)),this.$refs.toast.showToast("上传成功")},initDataFromStroge:function(){var t=JSON.parse(localStorage.getItem(m.STROGE.FORM_DATA));this.landiLevel=t.landiLevel.name;var e=!0,n=!1,o=void 0;try{for(var r,c=t.landiLevel.topics[Symbol.iterator]();!(e=(r=c.next()).done);e=!0){var d=r.value;d.id==t.topicID&&(this.topic=d)}}catch(t){n=!0,o=t}finally{try{e||null==c.return||c.return()}finally{if(n)throw o}}t.videoSrc?(this.videoSrc=t.videoSrc,this.videoStatus=m.VIDEO_STATUS_TYPE.UPLOADED):this.videoStatus=m.VIDEO_STATUS_TYPE.ADD,this.formData=t},initDataFromAPI:(r=Object(d.a)(regeneratorRuntime.mark(function t(){var e,n,video,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$refs.toast.showLoadingToast(),e=this.$route.query.activity_id||1,t.next=4,h.a.get("".concat(m.API.MY_WORK,"?activity_id=").concat(e));case 4:if(n=t.sent,this.$refs.toast.hideLoadingToast(),n.status){t.next=10;break}return t.abrupt("return",{});case 10:if(!n.data.id){t.next=21;break}return this.landiLevel=n.data.combination_name,this.topic={cn_topic_name:n.data.cn_topic_name,en_topic_name:n.data.en_topic_name},this.videoSrc=n.data.video_url,this.videoStatus=m.VIDEO_STATUS_TYPE.UPLOADED,video=n.data.video_url.split("/"),o=video[video.length-1],this.formData={landiLevel:{id:n.data.combination_id},topicID:n.data.topic_id,videoKey:o,workID:n.data.id,address:n.data.address},t.abrupt("return",{id:n.data.id});case 21:return t.abrupt("return",{});case 22:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},mounted:(o=Object(d.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initDataFromAPI();case 2:t.sent.id||this.initDataFromStroge();case 4:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},k=(n(386),n(19)),component=Object(k.a)(C,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"top-step-bar"},[o("step-bar",{attrs:{steps:t.steps,progress:50}})],1),t._v(" "),o("div",{staticClass:"page-content"},[o("div",{staticClass:"title"},[o("h1",[t._v("上传视频")]),t._v(" "),o("div",{staticClass:"title-action",on:{click:t.gotoStep2}},[o("h3",[t._v("查看题目")]),t._v(" "),o("img",{staticClass:"title-action-img",attrs:{src:n(254)}})])]),t._v(" "),o("h2",[t._v("当前级别: "+t._s(t.landiLevel))]),t._v(" "),o("div",{staticClass:"topic-text"},[t.topic?o("h2",{staticClass:"topic-text-eng"},[t._v(t._s(t.topic.en_topic_name))]):t._e(),t._v(" "),t.topic?o("h3",{staticClass:"topic-text-chn"},[t._v(t._s(t.topic.cn_topic_name))]):t._e()]),t._v(" "),o("div",{staticClass:"video"},["uploaded"!=t.videoStatus.type?o("div",{staticClass:"video-hint"},["add"==t.videoStatus.type?o("img",{staticClass:"video-hint-hintimg",attrs:{src:n(375)}}):t._e(),t._v(" "),"error"==t.videoStatus.type?o("img",{staticClass:"video-hint-hintimg",attrs:{src:n(376)}}):t._e(),t._v(" "),t.videoStatus.hint?o("div",{staticClass:"video-hint-hint"},[t._v(t._s(t.videoStatus.hint))]):t._e(),t._v(" "),"uploading"==t.videoStatus.type?o("div",[o("div",{staticClass:"video-hint-progress"},[o("div",{staticClass:"video-hint-progress-bg"}),t._v(" "),o("div",{staticClass:"video-hint-progress-fg",style:{width:t.videoStatus.progress+"%"}})]),t._v(" "),o("h3",[t._v("正在上传 "+t._s(t.videoStatus.progress)+"%")])]):t._e()]):t._e(),t._v(" "),"uploaded"==t.videoStatus.type?o("div",{staticClass:"video-uploaded"},[o("video",{staticClass:"video-uploaded-video",attrs:{controls:""}},[o("source",{attrs:{src:t.videoSrc}})])]):t._e(),t._v(" "),"uploading"!=t.videoStatus.type?o("div",{staticClass:"video-upload"},[o("label",{staticClass:"video-upload-action",attrs:{for:"video-upload-input"}},[o("img",{staticClass:"video-upload-action-img",attrs:{src:n(377)}})]),t._v(" "),o("input",{ref:"videoUploadInput",staticStyle:{display:"none"},attrs:{id:"video-upload-input",type:"file",accept:"video/*"},on:{change:t.videoUpload}})]):t._e()])]),t._v(" "),o("submit-area",{attrs:{hint:"视频要求时长10-90秒, 视频小于300M",btnText:"进入下一步",isClickable:t.videoUploaded},on:{submit:t.nextStep}}),t._v(" "),o("toast",{ref:"toast"})],1)},[],!1,null,"13b7a3ae",null);e.default=component.exports}}]);