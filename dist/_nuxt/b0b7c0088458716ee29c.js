(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{218:function(t,e,n){"use strict";n.r(e),n.d(e,"initWX",function(){return d}),n.d(e,"getWXCode",function(){return l});n(61),n(23),n(24),n(13),n(43);var o=n(27);function r(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,n)}return e}var c=n(199);function d(t){return c.config(function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(source,!0).forEach(function(e){Object(o.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):r(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}({},t,{debug:!1,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]})),c}function l(t){var e={appid:"wx9632cb5f0990954d",redirect_uri:encodeURIComponent(t),response_type:"code",scope:"snsapi_base"};window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(e.appid,"&redirect_uri=").concat(e.redirect_uri,"&response_type=").concat(e.response_type,"&scope=").concat(e.scope,"#wechat_redirect")}},257:function(t,e,n){var content=n(394);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("ee1f48ae",content,!0,{sourceMap:!1})},392:function(t,e,n){t.exports=n.p+"img/0153727.png"},393:function(t,e,n){"use strict";var o=n(257);n.n(o).a},394:function(t,e,n){(t.exports=n(38)(!1)).push([t.i,".top-step-bar[data-v-4a49d24c] {\n  padding-top: 0.4rem;\n  margin-bottom: 0.4rem;\n  height: 2.2rem;\n}\n.page-content[data-v-4a49d24c] {\n  padding: 0 0.4rem;\n}\nh1[data-v-4a49d24c] {\n  font-size: 0.4rem;\n  font-weight: bold;\n  color: #333333;\n  padding: 0.3rem 0;\n}\nh2[data-v-4a49d24c] {\n  font-size: 0.373333rem;\n  color: #333333;\n  padding: 0.2rem 0;\n}\nh3[data-v-4a49d24c] {\n  font-size: 0.346667rem;\n  color: #B2B2B2;\n  padding: 0.1rem 0;\n}\np[data-v-4a49d24c] {\n  font-size: 0.346667rem;\n  color: #808080;\n}\n#step5[data-v-4a49d24c] {\n  width: 100vw;\n  height: 100vh;\n  background: #fff;\n}\n.topic-text[data-v-4a49d24c] {\n  margin-top: -0.1rem;\n  width: 9rem;\n}\n.topic-text-eng[data-v-4a49d24c] {\n  font-weight: bold;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.topic-text-chn[data-v-4a49d24c] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.video[data-v-4a49d24c] {\n  margin-top: 0.3rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.video-content[data-v-4a49d24c] {\n  width: 8.506667rem;\n  max-height: 5.6rem;\n  overflow: hidden;\n}\n.title[data-v-4a49d24c] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 0.3rem;\n}\n.title-action h3[data-v-4a49d24c] {\n  color: #16C8D2;\n  display: inline-block;\n}\n.title-action-img[data-v-4a49d24c] {\n  width: 0.133333rem;\n}\n.action[data-v-4a49d24c] {\n  display: flex;\n  justify-content: space-evenly;\n  width: 100%;\n  position: fixed;\n  left: 0;\n  bottom: 0.5rem;\n}\n.action-btn[data-v-4a49d24c] {\n  width: 4.266667rem;\n  line-height: 1.333333rem;\n  font-size: 0.453333rem;\n  font-family: MicrosoftYaHeiLight;\n  color: #fff;\n  text-align: center;\n}\n.action-left[data-v-4a49d24c] {\n  background: #16C8D2;\n}\n.action-right[data-v-4a49d24c] {\n  background: #FFD750;\n}\n.sharehelp[data-v-4a49d24c] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.6);\n}\n.sharehelp-img[data-v-4a49d24c] {\n  width: 7.2rem;\n  position: fixed;\n  left: 1.8rem;\n  top: 0;\n}",""])},415:function(t,e,n){"use strict";n.r(e);n(40);var o,r=n(5),c=n(200),d=n(195),l=n(193),h=n(180),f=n(218),v={name:"Signup",mixins:[n(194).default],head:function(){return{title:"我的作品"}},components:{"step-bar":c.b,toast:d.a},data:function(){return{steps:l.STEPS,stuEngName:"",canReUpload:!0,showShareHelp:!1,mywork:null}},methods:{reUpload:function(){this.gotoPage("presentation-signup-step3")},gotoIndex:function(){this.gotoPage("presentation")},shareToFrends:function(){this.showShareHelp=!0}},mounted:(o=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n,o,r,c,d,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$refs.toast.showLoadingToast(),e=this.$route.query.activity_id,t.next=4,h.a.get("".concat(l.API.MY_WORK,"?activity_id=").concat(e));case 4:if((n=t.sent).status){t.next=11;break}return this.$refs.toast.hideLoadingToast(),this.$refs.toast.showToast(n.info),t.abrupt("return");case 11:if(n.data.id){t.next=13;break}return t.abrupt("return");case 13:return this.mywork={video_url:n.data.video_url,topic:{cn_topic_name:n.data.cn_topic_name,en_topic_name:n.data.en_topic_name},en_name:n.data.en_name},this.canReUpload=n.data.is_reupload,o=window.location.href,t.next=18,h.a.get("".concat(l.API.WX_SHARE,"?activity_id=").concat(e,"&url=").concat(encodeURIComponent(o),"&work_id=").concat(n.data.id));case 18:if((r=t.sent).status){t.next=23;break}return this.$refs.toast.hideLoadingToast(),this.$refs.toast.showToast(r.info),t.abrupt("return");case 23:c=r.data.wx_config,d=r.data.wx_data,(v=Object(f.initWX)({appId:c.appId,timestamp:c.timestamp,nonceStr:c.nonceStr,signature:c.signature})).ready(function(){v.updateAppMessageShareData({title:d.share_title,desc:d.share_desc,link:d.share_link,imgUrl:d.share_img_url}),v.updateTimelineShareData({title:d.share_title,link:d.share_link,imgUrl:d.share_img_url}),v.error(function(t){console.log(t)})}),this.$refs.toast.hideLoadingToast();case 28:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},m=(n(393),n(19)),component=Object(m.a)(v,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"step5"}},[o("div",{staticClass:"top-step-bar"},[o("step-bar",{attrs:{steps:t.steps,progress:100}})],1),t._v(" "),t.mywork?o("div",{staticClass:"page-content"},[o("div",{staticClass:"title"},[o("h1",[t._v("我的作品")]),t._v(" "),t.canReUpload?o("div",{staticClass:"title-action",on:{click:t.reUpload}},[o("h3",[t._v("重新上传")]),t._v(" "),o("img",{staticClass:"title-action-img",attrs:{src:n(264)}})]):t._e()]),t._v(" "),o("h2",[t._v("报名学生: "+t._s(t.mywork.en_name))]),t._v(" "),o("div",{staticClass:"topic-text"},[o("h2",{staticClass:"topic-text-eng"},[t._v(t._s(t.mywork.topic.en_topic_name))]),t._v(" "),o("h3",{staticClass:"topic-text-chn"},[t._v(t._s(t.mywork.topic.cn_topic_name))])]),t._v(" "),o("div",{staticClass:"video"},[o("video",{staticClass:"video-content",attrs:{controls:""}},[o("source",{attrs:{src:t.mywork.video_url}})])])]):t._e(),t._v(" "),o("div",{staticClass:"action"},[o("div",{staticClass:"action-btn action-left",on:{click:t.gotoIndex}},[t._v("去首页看看")]),t._v(" "),o("div",{staticClass:"action-btn action-right",on:{click:t.shareToFrends}},[t._v("分享给好友")])]),t._v(" "),o("toast",{ref:"toast"}),t._v(" "),t.showShareHelp?o("div",{staticClass:"sharehelp",on:{click:function(){t.showShareHelp=!1}}},[o("img",{staticClass:"sharehelp-img",attrs:{src:n(392)}})]):t._e()],1)},[],!1,null,"4a49d24c",null);e.default=component.exports}}]);